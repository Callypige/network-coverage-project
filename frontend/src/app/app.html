<!-- app.html -->
<div class="container">
  <h1>ðŸ—¼ Network Coverage Checker</h1>

  <div class="search-box">
    <input
      type="text"
      [ngModel]="address()"
      (ngModelChange)="address.set($event)"
      placeholder="Entrez une adresse...">

    <button (click)="search()" [disabled]="!address() || loading()">
      {{ loading() ? 'Recherche...' : 'VÃ©rifier la couverture' }}
    </button>
  </div>

  <div class="results">
    @if (results()) {
      @let data = results();
      @if (data && data['id1']) {
        <h2>ðŸ“¡ Couverture rÃ©seau pour :</h2>
        <p class="address-label">{{ address() }}</p>

        <div class="operators-grid">
          <!-- Orange -->
          <div class="operator-card">
            <h3 class="operator-name orange">Orange</h3>
            <div class="tech-badges">
              <span class="badge" [class.active]="data['id1']['orange']['two_g']">
                2G {{ data['id1']['orange']['two_g'] ? 'âœ“' : 'âœ—' }}
              </span>
              <span class="badge" [class.active]="data['id1']['orange']['three_g']">
                3G {{ data['id1']['orange']['three_g'] ? 'âœ“' : 'âœ—' }}
              </span>
              <span class="badge" [class.active]="data['id1']['orange']['four_g']">
                4G {{ data['id1']['orange']['four_g'] ? 'âœ“' : 'âœ—' }}
              </span>
            </div>
          </div>

          <!-- SFR -->
          <div class="operator-card">
            <h3 class="operator-name sfr">SFR</h3>
            <div class="tech-badges">
              <span class="badge" [class.active]="data['id1']['SFR']['two_g']">
                2G {{ data['id1']['SFR']['two_g'] ? 'âœ“' : 'âœ—' }}
              </span>
              <span class="badge" [class.active]="data['id1']['SFR']['three_g']">
                3G {{ data['id1']['SFR']['three_g'] ? 'âœ“' : 'âœ—' }}
              </span>
              <span class="badge" [class.active]="data['id1']['SFR']['four_g']">
                4G {{ data['id1']['SFR']['four_g'] ? 'âœ“' : 'âœ—' }}
              </span>
            </div>
          </div>

          <!-- Bouygues -->
          <div class="operator-card">
            <h3 class="operator-name bouygues">Bouygues</h3>
            <div class="tech-badges">
              <span class="badge" [class.active]="data['id1']['bouygues']['two_g']">
                2G {{ data['id1']['bouygues']['two_g'] ? 'âœ“' : 'âœ—' }}
              </span>
              <span class="badge" [class.active]="data['id1']['bouygues']['three_g']">
                3G {{ data['id1']['bouygues']['three_g'] ? 'âœ“' : 'âœ—' }}
              </span>
              <span class="badge" [class.active]="data['id1']['bouygues']['four_g']">
                4G {{ data['id1']['bouygues']['four_g'] ? 'âœ“' : 'âœ—' }}
              </span>
            </div>
          </div>

          <!-- Free -->
          <div class="operator-card">
            <h3 class="operator-name free">Free</h3>
            <div class="tech-badges">
              <span class="badge" [class.active]="data['id1']['Free']['two_g']">
                2G {{ data['id1']['Free']['two_g'] ? 'âœ“' : 'âœ—' }}
              </span>
              <span class="badge" [class.active]="data['id1']['Free']['three_g']">
                3G {{ data['id1']['Free']['three_g'] ? 'âœ“' : 'âœ—' }}
              </span>
              <span class="badge" [class.active]="data['id1']['Free']['four_g']">
                4G {{ data['id1']['Free']['four_g'] ? 'âœ“' : 'âœ—' }}
              </span>
            </div>
          </div>
        </div>
      }
    }

    @if (!results() && !loading()) {
      <p>Entrez une adresse et cliquez sur "VÃ©rifier" pour voir la couverture rÃ©seau</p>
    }
  </div>

  @if (loading()) {
    <p class="loading-message">Chargement des donnÃ©es...</p>
  }
</div>
