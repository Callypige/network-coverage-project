<div class="container">
  <h1>ðŸ—¼ Network Coverage Checker</h1>

  <div class="search-box">
    <input type="text" [ngModel]="address()" (ngModelChange)="address.set($event)">
    <button (click)="search()" [disabled]="!address() || loading()">
     {{ loading() ? 'Recherche...' : 'VÃ©rifier la couverture' }}
    </button>
  </div>

  <div class="results">
  @if (results()) {
    <h2>ðŸ“¡ Couverture rÃ©seau pour :</h2>
    <p class="address-label">{{ address() }}</p>
    @let data = results();
    @if (data && data['id1']) {
      <div class="operators-grid">
        <!-- Orange -->
        <div class="operator-card">
          <h3 class="operator-name orange">Orange</h3>
          <div class="tech-badges">
            <span class="badge" [class.active]="data['id1']['orange']['2G']">
              2G {{ data['id1']['orange']['2G'] ? 'âœ“' : 'âœ—' }}
            </span>
            <span class="badge" [class.active]="data['id1']['orange']['3G']">
              3G {{ data['id1']['orange']['3G'] ? 'âœ“' : 'âœ—' }}
            </span>
            <span class="badge" [class.active]="data['id1']['orange']['4G']">
              4G {{ data['id1']['orange']['4G'] ? 'âœ“' : 'âœ—' }}
            </span>
          </div>
        </div>

        <!-- SFR -->
        <div class="operator-card">
          <h3 class="operator-name sfr">SFR</h3>
          <div class="tech-badges">
            <span class="badge" [class.active]="data['id1']['SFR']['2G']">
              2G {{ data['id1']['SFR']['2G'] ? 'âœ“' : 'âœ—' }}
            </span>
            <span class="badge" [class.active]="data['id1']['SFR']['3G']">
              3G {{ data['id1']['SFR']['3G'] ? 'âœ“' : 'âœ—' }}
            </span>
            <span class="badge" [class.active]="data['id1']['SFR']['4G']">
              4G {{ data['id1']['SFR']['4G'] ? 'âœ“' : 'âœ—' }}
            </span>
          </div>
        </div>

        <!-- Bouygues -->
        <div class="operator-card">
          <h3 class="operator-name bouygues">Bouygues</h3>
          <div class="tech-badges">
            <span class="badge" [class.active]="data['id1']['bouygues']['2G']">
              2G {{ data['id1']['bouygues']['2G'] ? 'âœ“' : 'âœ—' }}
            </span>
            <span class="badge" [class.active]="data['id1']['bouygues']['3G']">
              3G {{ data['id1']['bouygues']['3G'] ? 'âœ“' : 'âœ—' }}
            </span>
            <span class="badge" [class.active]="data['id1']['bouygues']['4G']">
              4G {{ data['id1']['bouygues']['4G'] ? 'âœ“' : 'âœ—' }}
            </span>
          </div>
        </div>

        <!-- Free (si tu l'as dans ton backend) -->
        <div class="operator-card">
          <h3 class="operator-name free">Free</h3>
          <div class="tech-badges">
            <span class="badge" [class.active]="data['id1']['Free']['2G']">
              2G {{ data['id1']['Free']['2G'] ? 'âœ“' : 'âœ—' }}
            </span>
            <span class="badge" [class.active]="data['id1']['Free']['3G']">
              3G {{ data['id1']['Free']['3G'] ? 'âœ“' : 'âœ—' }}
            </span>
            <span class="badge" [class.active]="data['id1']['Free']['4G']">
              4G {{ data['id1']['Free']['4G'] ? 'âœ“' : 'âœ—' }}
            </span>
          </div>
        </div>
      </div>
    }
  }

  @if (!results() && !loading()) {
    <p>Entrez une adresse et cliquez sur "VÃ©rifier" pour voir la couverture rÃ©seau</p>
  }
</div>

  @if (loading()) {
    <p class="loading-message">Chargement des donnÃ©es...</p>
  }
</div>

